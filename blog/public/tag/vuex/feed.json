{
    "version": "https://jsonfeed.org/version/1",
    "title": "盧瞳Blog • All posts by \"vuex\" tag",
    "description": "",
    "home_page_url": "http://blog.1think2program.cn",
    "items": [
        {
            "id": "http://blog.1think2program.cn/2023/07/11/vue%E5%AD%A6%E4%B9%A0/vuex%E4%BD%BF%E7%94%A8/",
            "url": "http://blog.1think2program.cn/2023/07/11/vue%E5%AD%A6%E4%B9%A0/vuex%E4%BD%BF%E7%94%A8/",
            "title": "vuex使用",
            "date_published": "2023-07-11T12:25:10.000Z",
            "content_html": "<h1 id=\"Vuex使用\"><a href=\"#Vuex使用\" class=\"headerlink\" title=\"Vuex使用\"></a>Vuex使用</h1><h2 id=\"vuex介绍\"><a href=\"#vuex介绍\" class=\"headerlink\" title=\"vuex介绍\"></a>vuex介绍</h2><blockquote>\n<p>vue 是一个专为Vue.js应用程序开发的状态管理模式</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>出发点(解决的问题)</td>\n<td>1. 多层切套传参 2. 全局状态同步</td>\n</tr>\n<tr>\n<td>采用方式</td>\n<td>创建一个独立的vue实例来管理全局组件共享的状态</td>\n</tr>\n<tr>\n<td>使用方式</td>\n<td><code>&lt;script&gt;</code>标签中引入, 或使用vue-cli利用node引入</td>\n</tr>\n</tbody></table>\n<p>这是一个没有vuex情况下的通信</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>vuex简单使用<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;vue.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">code</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">color</span>: coral;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">background-color</span>: antiquewhite;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">p</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5rem</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-id\">#app</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">  </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  在这个例子中我们将创建俩个子组件, 并尝试使用vuex同步他们的数据</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  请试想若没有vuex我们该怎么达成这项操作呢?</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span><br><span class=\"line\">  是的我们需要利用他们共同的父组件来传递数据</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>首先, 我们已经知道了Vue中子父组件通信的模式是&quot;数据下行,事件上行&quot;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>那么, 父组件想要把值传递给它的子组件就很容易了, 我们第一步要做的便是在父组件中定义我们需要用到的公用属性, 接下来我们便可以在注册子组件时使用<span class=\"tag\">&lt;<span class=\"name\">code</span>&gt;</span>prop<span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span>接受父组件的参数<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>其次, 依据&quot;事件上行&quot;我们还需要在俩个子组件中分别定义事件, 来通知父组件更改属性, 以便同步到另一个子组件中<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>现在你发现了吗? 这个过程太恐怖了, 尤其是在更复杂层级的组件之间通信的时候<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">jc_button</span> <span class=\"attr\">:count</span>=<span class=\"string\">&quot;parentCount&quot;</span> @<span class=\"attr\">change</span>=<span class=\"string\">&quot;changeCount&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">jc_button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">count_label</span> <span class=\"attr\">:count</span>=<span class=\"string\">&quot;parentCount&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">count_label</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>父组件的parentCount: &#123;&#123;parentCount&#125;&#125; (我将他们俩个的值绑定起来了)<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">parentCount</span>: <span class=\"number\">0</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">//这里不用短横线连接就显示不出来,不知道为什么</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">count_label</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;p&gt;当前count的数值为: &#123;&#123; count &#125;&#125;&lt;/p&gt;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">count</span>: <span class=\"title class_\">Number</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">jc_button</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;button @click=&#x27;changeCount&#x27;&gt;当前count值: &#123;&#123; count &#125;&#125;&lt;/button&gt;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">count</span>: <span class=\"title class_\">Number</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">changeCount</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"variable language_\">this</span>.<span class=\"property\">count</span>+=<span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&quot;change&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">count</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">changeCount</span>(<span class=\"params\">value</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">parentCount</span>=value;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>显示效果</p>\n<p><img data-src=\"/2023/07/11/vue%E5%AD%A6%E4%B9%A0/vuex%E4%BD%BF%E7%94%A8/2023-07-11-20-06-28-image.png\"></p>\n<h2 id=\"简单使用\"><a href=\"#简单使用\" class=\"headerlink\" title=\"简单使用\"></a>简单使用</h2><p>vuex的使用大致分为下面几步:</p>\n<ol>\n<li>使用Vue的插件引入函数 use 使用 Vuex <code>Vue.use(Vuex);</code></li>\n<li>使用Vuex实例对象的Store方法创建一个store对象 <code>var store = new Vuex.Store(&#123;&#125;)</code></li>\n<li>在vue实例化对象时传入store来使用store</li>\n</ol>\n<p>其中Store接受的参数和作用分别为:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义数据</span></span><br><span class=\"line\">    <span class=\"title function_\">state</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>&#123;&#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 类比计算属性computed</span></span><br><span class=\"line\">    <span class=\"attr\">getters</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 修改数据(同步)</span></span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 里面定义方法, 通过this.$store.emit(&quot;方法名&quot;, 值)</span></span><br><span class=\"line\">      <span class=\"comment\">// 这里的方法接受俩个参数 store 和 传入的值</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 修改数据(异步)</span></span><br><span class=\"line\">    <span class=\"attr\">actions</span>:&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 异步操作</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">modules</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 进一步分装上面的内容</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>最简单的引入方式就是使用<code>script</code>标签引入</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>vuex简单使用<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;vue.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--初次尝试, 我们先通过script标签直接引入--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;vuex.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">code</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">color</span>: coral;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">background-color</span>: antiquewhite;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">p</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5rem</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-id\">#app</span>, <span class=\"selector-id\">#vuexApp</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">border</span>: <span class=\"number\">0.2rem</span> solid black;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">padding</span>: <span class=\"number\">1rem</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">margin-top</span>: <span class=\"number\">1rem</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">  </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  在这个例子中我们将创建俩个子组件, 并尝试使用vuex同步他们的数据</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  请试想若没有vuex我们该怎么达成这项操作呢?</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span><br><span class=\"line\">  是的我们需要利用他们共同的父组件来传递数据</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>首先, 我们已经知道了Vue中子父组件通信的模式是&quot;数据下行,事件上行&quot;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>那么, 父组件想要把值传递给它的子组件就很容易了, 我们第一步要做的便是在父组件中定义我们需要用到的公用属性, 接下来我们便可以在注册子组件时使用<span class=\"tag\">&lt;<span class=\"name\">code</span>&gt;</span>prop<span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span>接受父组件的参数<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>其次, 依据&quot;事件上行&quot;我们还需要在俩个子组件中分别定义事件, 来通知父组件更改属性, 以便同步到另一个子组件中<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>现在你发现了吗? 这个过程太恐怖了, 尤其是在更复杂层级的组件之间通信的时候<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">jc_button</span> <span class=\"attr\">:count</span>=<span class=\"string\">&quot;parentCount&quot;</span> @<span class=\"attr\">change</span>=<span class=\"string\">&quot;changeCount&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">jc_button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">count_label</span> <span class=\"attr\">:count</span>=<span class=\"string\">&quot;parentCount&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">count_label</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>父组件的parentCount: &#123;&#123;parentCount&#125;&#125; (我将他们俩个的值绑定起来了)<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;vuexApp&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>下面是使用vuex的情况<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">jc_button</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">jc_button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">msg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">msg</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">parentCount</span>: <span class=\"number\">0</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">//这里不用短横线连接就显示不出来,不知道为什么</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">count_label</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;p&gt;当前count的数值为: &#123;&#123; count &#125;&#125;&lt;/p&gt;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">count</span>: <span class=\"title class_\">Number</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">jc_button</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;button @click=&#x27;changeCount&#x27;&gt;当前count值: &#123;&#123; count &#125;&#125;&lt;/button&gt;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">count</span>: <span class=\"title class_\">Number</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">changeCount</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"variable language_\">this</span>.<span class=\"property\">count</span>+=<span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&quot;change&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">count</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">changeCount</span>(<span class=\"params\">value</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">parentCount</span>=value;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"comment\">// 1. 使用Vue的插件引入函数 use 使用 Vuex</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuex</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"comment\">// 2. 使用Vuex实例对象的Store方法创建一个store对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">var</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">state</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">// 定义值, 类似data</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">count</span>: <span class=\"number\">2</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">getters</span>:&#123;&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">mutations</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">// 修改值</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      changeCount (state,num)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        state.<span class=\"property\">count</span> += num;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">actions</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">// 异步操作</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">modules</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"comment\">// 3. 使用store</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  vueAPP = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&quot;#vuexApp&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    store, <span class=\"comment\">// 使用store</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">//这里不用短横线连接就显示不出来,不知道为什么</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">msg</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;p&gt;当前count的数值为: &#123;&#123; count &#125;&#125;&lt;/p&gt;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        store,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">count</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">state</span>.<span class=\"property\">count</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">watch</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"string\">&#x27;$store.state.count&#x27;</span> :&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">handler</span>(<span class=\"params\">newVal,oldVal</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;值改变了&quot;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"variable language_\">this</span>.<span class=\"property\">count</span> = newVal;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">jc_button</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;button @click=&#x27;change&#x27;&gt;当前count值: &#123;&#123; count &#125;&#125;&lt;/button&gt;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        store,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">count</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">state</span>.<span class=\"property\">count</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"title function_\">change</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">count</span> += <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;changeCount&quot;</span>, <span class=\"number\">1</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vue-cli使用\"><a href=\"#vue-cli使用\" class=\"headerlink\" title=\"vue-cli使用\"></a>vue-cli使用</h2><p>上面关于vuex的使用已经很详细了, 采用vue-cli的方式使用时, 只是安装方式和上面有所不同</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuex&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">  state () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">count</span>: <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123;</span><br><span class=\"line\">    increment (state) &#123;</span><br><span class=\"line\">      state.<span class=\"property\">count</span>++</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(&#123; <span class=\"comment\">/* 根组件 */</span> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 将 store 实例作为插件安装</span></span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(store)</span><br></pre></td></tr></table></figure>\n\n<p>此外cli构建大型项目时, vue官方给出的项目结构建议为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── index.html</span><br><span class=\"line\">├── main.js</span><br><span class=\"line\">├── api</span><br><span class=\"line\">│   └── ... # 抽取出API请求</span><br><span class=\"line\">├── components</span><br><span class=\"line\">│   ├── App.vue</span><br><span class=\"line\">│   └── ...</span><br><span class=\"line\">└── store</span><br><span class=\"line\">    ├── index.js          # 我们组装模块并导出 store 的地方</span><br><span class=\"line\">    ├── actions.js        # 根级别的 action</span><br><span class=\"line\">    ├── mutations.js      # 根级别的 mutation</span><br><span class=\"line\">    └── modules</span><br><span class=\"line\">        ├── cart.js       # 购物车模块</span><br><span class=\"line\">        └── products.js   # 产品模块</span><br></pre></td></tr></table></figure>",
            "tags": [
                "前端",
                "vue",
                "vuex"
            ]
        }
    ]
}